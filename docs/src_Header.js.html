<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/Header.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/Header.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Class that create the Header section of the Application
 * @example
 * new Header(parentElem).init()
 */

class Header {
  /**
   * Get the Header container element to append the header
   * @param  {HTML Element} container HTML element in which header will be appended
   * @param {String} fileName Name/Title of the presentation slide
   */

  constructor(container, fileName) {
    this.container = container;
    this.fileName = fileName
  }

  /**
   * A function which initilize the Header
   */
  init() {

    // -------------Creating header container--------
    this.headerContainer = document.createElement("div");

    this.headerContainer.classList.add("header", "container", "clearfix");

    // Appending this.headerContainer on root
    this.container.appendChild(this.headerContainer);

    // Brand or fileName
    createElementAndAppend({
      parentElem: this.headerContainer,
      elemType: "div",
      attr: {
        class: "brand",
      },
      innerHTML: `&lt;h1>&lt;a href='/'>${this.fileName}&lt;/a>&lt;/h1>`
    });

    // ul of toolbar
    let ul = createElementAndAppend({
      parentElem: this.headerContainer,
      elemType: "ul"
    });

    let liOfFileHandler = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "dropdown-container"
      }
    });

    // Adding dropdown button for file handling (i.e import,export);
    let fileHandle = createElementAndAppend({
      parentElem: liOfFileHandler,
      elemType: "button",
      attr: {
        class: "btn dropdown-btn"
      },
      innerText: "File"
    });

    fileHandle.addEventListener("click", this.handleDropdownMenu);

    let fileDropDownlist = createElementAndAppend({
      parentElem: liOfFileHandler,
      elemType: "div",
      attr: {
        class: "dropdown-list"
      }
    });

    this.openPresentations = createElementAndAppend({
      parentElem: fileDropDownlist,
      elemType: "button",
      innerHTML: '&lt;i class="fa fa-open">&lt;/i>&lt;span>Open&lt;/span>',
    });

    this.createNewSlideBtn = createElementAndAppend({
      parentElem: fileDropDownlist,
      elemType: "button",
      innerHTML: '&lt;i class="fa fa-plus">&lt;/i>&lt;span>New Slide&lt;/span>',
    });



    // import
    let importSlideWrapper = createElementAndAppend({
      parentElem: fileDropDownlist,
    })
    createElementAndAppend({
      parentElem: importSlideWrapper,
      elemType: "label",
      attr: {
        class: "import-file",
        for: "importJson"
      },
      innerHTML: '&lt;i class="fa fa-download">&lt;/i>&lt;span>Import&lt;/span>'
    })
    this.importSlides = createElementAndAppend({
      parentElem: importSlideWrapper,
      elemType: "input",
      attr: {
        type: "file",
        name: "importJson",
        id: "importJson",
        accept: "application/json, .json"
      }
    });

    this.exportSlides = createElementAndAppend({
      parentElem: fileDropDownlist,
      elemType: "button",
      innerHTML: '&lt;i class="fa fa-upload">&lt;/i> &lt;span>Export&lt;/span>'
    });

    // adding dropdown btn for insert handling
    let liOfExportHandler = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "dropdown-container"
      }
    });

    let InsertHandle = createElementAndAppend({
      parentElem: liOfExportHandler,
      elemType: "button",
      attr: {
        class: "btn dropdown-btn"
      },
      innerText: "Insert"
    });

    InsertHandle.addEventListener("click", this.handleDropdownMenu);
    let insertDropDownlist = createElementAndAppend({
      parentElem: liOfExportHandler,
      elemType: "div",
      attr: {
        class: "dropdown-list"
      }
    });

    this.insertElement = createElementAndAppend({
      elemType: "button",
      parentElem: insertDropDownlist,
      innerHTML: '&lt;i class="fa fa-text-width">&lt;/i> &lt;span>New Text&lt;/span>'
    });

    this.insertImage = createElementAndAppend({
      parentElem: insertDropDownlist,
      elemType: "button",
      innerHTML: '&lt;i class="fa fa-image">&lt;/i> &lt;span>Image&lt;/span>'
    });

    // this.insertVideo = createElementAndAppend({
    //   parentElem: insertDropDownlist,
    //   elemType: "button",
    //   innerHTML: '&lt;i class="fa fa-video-camera">&lt;/i> &lt;span>Video&lt;/span>'
    // });

    // adding fontFamily selection
    let liOfFontFamilySelect = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "font-family-select"
      }
    });

    let selectFont = createElementAndAppend({
      parentElem: liOfFontFamilySelect,
      elemType: "select",
      attr: {
        name: "fontFamily",
        id: "fontFamily",
        value: "sans-serif"
      }
    })

    // list of fontFamily is decleared on constant.js
    FONT_FAMILY_LIST.forEach(font => {
      createElementAndAppend({
        parentElem: selectFont,
        elemType: "option",
        attr: {
          value: font.fontFamily,
        },
        style: {
          fontFamily: font.fontFamily
        },
        innerText: font.value
      });
    });

    selectFont.addEventListener("change", (e) => {
      let lastFcused = document.querySelector("[dataToolbarActive='true']");
      if (lastFcused) {
        lastFcused.style.fontFamily = e.target.value;
        lastFcused.focus();
      };
    });


    let liOfFontSize = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "font-size-input"
      }
    });

    let fontSize = createElementAndAppend({
      parentElem: liOfFontSize,
      elemType: "input",
      attr: {
        type: "number",
        value: "16",
        id: "fontSize"
      }
    });

    fontSize.addEventListener("change", (e) => {
      let lastFcused = document.querySelector("[dataToolbarActive='true']");
      if (lastFcused) {
        lastFcused.style.fontSize = e.target.value + "px";
        lastFcused.focus();
      }
    });

    // -------------------Text align element container-----------------------

    this.liOfTextAllign = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "text-align"
      }
    });

    //-----------------Text fromat element  container-------------------------

    this.liOfTextFormat = createElementAndAppend({
      parentElem: ul,
      elemType: "li",
      attr: {
        class: "text-format",
      }
    });

    //-----toolbarActionsProperty  is defined on util.js-----------------------
    toolbarActionsProperty.forEach(d => {
      let tool = createElementAndAppend({
        parentElem: this[d.parentElem],
        elemType: d.elem,
        attr: d.attr
      });
      tool.addEventListener("click", this.formatElement)
    });

    let color = createElementAndAppend({
      parentElem: this.liOfTextFormat,
      elemType: "input",
      attr: {
        type: "color",
        name: "font-color",
        value: "#000"
      }
    });

    color.addEventListener("change", (e) => {
      let lastFcused = document.querySelector("[dataToolbarActive='true']");
      if (lastFcused) {
        lastFcused.style.color = e.target.value;
        lastFcused.focus();
      }
    });

    let backgroundColor = createElementAndAppend({
      parentElem: ul,
      elemType: "input",
      attr: {
        type: "color",
        name: "font-color",
        value: "#000"
      }
    });

    backgroundColor.addEventListener("change", (e) => {

      let lastFcused = document.querySelector("[dataToolbarActive='true']");

      if (lastFcused) {
        lastFcused.style.backgroundColor = e.target.value;
        lastFcused.focus();
      }
    });

    this.theme = createElementAndAppend({
      parentElem: ul,
      elemType: "button",
      attr: {
        class: "btn"
      },
      innerText: "Theme",
    });

    let rightSection = createElementAndAppend({
      parentElem: this.headerContainer,
      attr: {
        class: "right-btns clearfix"
      },
      style: {
        float: "right"
      }
    })

    // play btn
    this.playBtn = createElementAndAppend({
      parentElem: rightSection,
      elemType: "button",
      attr: {
        class: "btn"
      },
      innerHTML: "&lt;i class='fa fa-play'>&lt;/i>&amp;nbsp; Play",
      style: {
        float: "left",
        padding: "5px 10px",
        width: "60px",
        textAllign: "center"
      }
    });

    // Save to firebase btn
    this.saveBtn = createElementAndAppend({
      parentElem: rightSection,
      elemType: "button",
      attr: {
        class: "btn"
      },
      innerHTML: "&lt;i class='fa fa-save'>&lt;/i>&amp;nbsp; Save",
      style: {
        float: "left",
        padding: "5px 10px",
        width: "60px",
        textAllign: "center"
      }
    });

    this.logoutBtn = createElementAndAppend({
      parentElem: rightSection,
      elemType: "button",
      attr: {
        class: "btn"
      },
      innerHTML: "&lt;i class='fa fa-sign-out'>&lt;/i>&amp;nbsp; Logout",
      style: {
        float: "left",
        padding: "5px 10px",
        width: "60px",
        textAllign: "center"
      }
    });



    return this;
  }

  /**
   * A function that handle toolbar related to text alignment and font (i.e text-align,font-size)
   * @param  {Event} e HTML element in which event is triggers 
   */

  formatElement(e) {
    let cmd = e.target.getAttribute("dataCmd");
    let cssProperty = e.target.getAttribute("cssProperty");
    let lastFcused = document.querySelector("[dataToolbarActive='true']");
    if (lastFcused) {

      // bold handler
      if (cssProperty === "fontWeight") {
        if (lastFcused.style.fontWeight !== cmd) {
          e.target.classList.add("activeTool");
          lastFcused.style[cssProperty] = cmd;
        } else {
          e.target.classList.remove("activeTool");
          lastFcused.style[cssProperty] = "normal";
        }
        // italic handler
      } else if (cssProperty === "fontStyle") {
        if (lastFcused.style.fontStyle !== cmd) {
          e.target.classList.add("activeTool");
          lastFcused.style.fontStyle = cmd;
        } else {
          e.target.classList.remove("activeTool");
          lastFcused.style[cssProperty] = "normal";
        }
        // underline handle
      } else if (cssProperty === "textDecoration") {
        if (lastFcused.style.textDecoration !== cmd) {
          e.target.classList.add("activeTool");
          lastFcused.style[cssProperty] = cmd;
        } else {
          e.target.classList.remove("activeTool");
          lastFcused.style[cssProperty] = "none";
        }
        // text-align (center,left,right,justify) handler
      } else {
        let oldActiveAlign = document.querySelector(".text-align>.activeTool");
        if (lastFcused.style[cssProperty] !== cmd) {
          oldActiveAlign &amp;&amp; oldActiveAlign.classList.remove("activeTool");
          e.target.classList.add("activeTool");
          lastFcused.style[cssProperty] = cmd;
        } else {
          if (lastFcused.style[cssProperty] !== cmd) {
            e.target.classList.remove("activeTool");
          };
        }
      }
      lastFcused &amp;&amp; lastFcused.focus();
    }
  }


  /**
   * A function that handle drop down 
   * @param  {Event} e click event
   */
  handleDropdownMenu(e) {

    let activeDropdown = document.querySelector(".show");
    //hide the dropdown menu
    let nextSibling = e &amp;&amp; e.target &amp;&amp; e.target.nextSibling;
    if (activeDropdown !== nextSibling || e === "hide") {
      activeDropdown &amp;&amp; activeDropdown.classList.remove("show");
    }

    nextSibling &amp;&amp; nextSibling.classList.toggle("show");
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li><li><a href="Element.html">Element</a></li><li><a href="Header.html">Header</a></li><li><a href="LandingPage.html">LandingPage</a></li><li><a href="Loading.html">Loading</a></li><li><a href="Modal.html">Modal</a></li><li><a href="Notification.html">Notification</a></li><li><a href="PresentationMode.html">PresentationMode</a></li><li><a href="Slide.html">Slide</a></li><li><a href="SlideBuilder.html">SlideBuilder</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAttributes">addAttributes</a></li><li><a href="global.html#camalize">camalize</a></li><li><a href="global.html#createElementAndAppend">createElementAndAppend</a></li><li><a href="global.html#exportToJsonFile">exportToJsonFile</a></li><li><a href="global.html#formatStyleToStore">formatStyleToStore</a></li><li><a href="global.html#getUsernameFromEmail">getUsernameFromEmail</a></li><li><a href="global.html#randomNumber">randomNumber</a></li><li><a href="global.html#removeUnnecessaryAttr">removeUnnecessaryAttr</a></li><li><a href="global.html#styleElement">styleElement</a></li><li><a href="global.html#updatePosition">updatePosition</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Sun Jul 14 2019 17:40:59 GMT+0545 (Nepal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
